{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { openAlert, closeAlerts, closeToast, openToast } from '@airgap/beacon-dapp';\nimport { BeaconErrorType } from '@airgap/beacon-types';\nimport { UnknownBeaconError, BeaconError, Logger\n// EncryptPayloadResponseOutput,\n// EncryptionOperation\n} from '@airgap/beacon-core';\nimport { shortenString } from './utils/shorten-string';\nimport { isMobile } from '@airgap/beacon-ui';\nconst logger = new Logger('BeaconEvents');\nconst SUCCESS_TIMER = 5 * 1000;\n/**\n * The different events that can be emitted by the beacon-sdk\n */\nexport var BeaconEvent;\n(function (BeaconEvent) {\n  BeaconEvent[\"PERMISSION_REQUEST_SENT\"] = \"PERMISSION_REQUEST_SENT\";\n  BeaconEvent[\"PERMISSION_REQUEST_SUCCESS\"] = \"PERMISSION_REQUEST_SUCCESS\";\n  BeaconEvent[\"PERMISSION_REQUEST_ERROR\"] = \"PERMISSION_REQUEST_ERROR\";\n  BeaconEvent[\"OPERATION_REQUEST_SENT\"] = \"OPERATION_REQUEST_SENT\";\n  BeaconEvent[\"OPERATION_REQUEST_SUCCESS\"] = \"OPERATION_REQUEST_SUCCESS\";\n  BeaconEvent[\"OPERATION_REQUEST_ERROR\"] = \"OPERATION_REQUEST_ERROR\";\n  BeaconEvent[\"SIGN_REQUEST_SENT\"] = \"SIGN_REQUEST_SENT\";\n  BeaconEvent[\"SIGN_REQUEST_SUCCESS\"] = \"SIGN_REQUEST_SUCCESS\";\n  BeaconEvent[\"SIGN_REQUEST_ERROR\"] = \"SIGN_REQUEST_ERROR\";\n  // TODO: ENCRYPTION\n  // ENCRYPT_REQUEST_SENT = 'ENCRYPT_REQUEST_SENT',\n  // ENCRYPT_REQUEST_SUCCESS = 'ENCRYPT_REQUEST_SUCCESS',\n  // ENCRYPT_REQUEST_ERROR = 'ENCRYPT_REQUEST_ERROR',\n  BeaconEvent[\"BROADCAST_REQUEST_SENT\"] = \"BROADCAST_REQUEST_SENT\";\n  BeaconEvent[\"BROADCAST_REQUEST_SUCCESS\"] = \"BROADCAST_REQUEST_SUCCESS\";\n  BeaconEvent[\"BROADCAST_REQUEST_ERROR\"] = \"BROADCAST_REQUEST_ERROR\";\n  BeaconEvent[\"ACKNOWLEDGE_RECEIVED\"] = \"ACKNOWLEDGE_RECEIVED\";\n  BeaconEvent[\"LOCAL_RATE_LIMIT_REACHED\"] = \"LOCAL_RATE_LIMIT_REACHED\";\n  BeaconEvent[\"NO_PERMISSIONS\"] = \"NO_PERMISSIONS\";\n  BeaconEvent[\"ACTIVE_ACCOUNT_SET\"] = \"ACTIVE_ACCOUNT_SET\";\n  BeaconEvent[\"ACTIVE_TRANSPORT_SET\"] = \"ACTIVE_TRANSPORT_SET\";\n  BeaconEvent[\"SHOW_PREPARE\"] = \"SHOW_PREPARE\";\n  BeaconEvent[\"HIDE_UI\"] = \"HIDE_UI\";\n  BeaconEvent[\"PAIR_INIT\"] = \"PAIR_INIT\";\n  BeaconEvent[\"PAIR_SUCCESS\"] = \"PAIR_SUCCESS\";\n  BeaconEvent[\"CHANNEL_CLOSED\"] = \"CHANNEL_CLOSED\";\n  BeaconEvent[\"INTERNAL_ERROR\"] = \"INTERNAL_ERROR\";\n  BeaconEvent[\"UNKNOWN\"] = \"UNKNOWN\";\n})(BeaconEvent || (BeaconEvent = {}));\n/**\n * Show a \"Request sent\" toast\n */\nconst showSentToast = data => __awaiter(void 0, void 0, void 0, function* () {\n  let openWalletAction;\n  const actions = [];\n  if (data.walletInfo.deeplink) {\n    if (data.walletInfo.type === 'web' || data.walletInfo.type === 'mobile' && isMobile(window) || data.walletInfo.type === 'desktop' && !isMobile(window)) {\n      const link = data.walletInfo.deeplink;\n      openWalletAction = () => __awaiter(void 0, void 0, void 0, function* () {\n        const a = document.createElement('a');\n        a.setAttribute('href', link);\n        a.setAttribute('target', '_blank');\n        a.dispatchEvent(new MouseEvent('click', {\n          view: window,\n          bubbles: true,\n          cancelable: true\n        }));\n      });\n    }\n  }\n  actions.push({\n    text: `No answer from your wallet received yet. Please make sure the wallet is open.`,\n    isBold: true\n  });\n  actions.push({\n    text: 'Did you make a mistake?',\n    actionText: 'Cancel Request',\n    actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeToast();\n    })\n  });\n  actions.push({\n    text: 'Wallet not receiving request?',\n    actionText: 'Reset Connection',\n    actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeToast();\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      const resetCallback = data.extraInfo.resetCallback;\n      if (resetCallback) {\n        logger.log('showSentToast', 'resetCallback invoked');\n        yield resetCallback();\n      }\n    })\n  });\n  openToast({\n    body: `Request sent to\\u00A0 {{wallet}}`,\n    walletInfo: data.walletInfo,\n    state: 'loading',\n    actions,\n    openWalletAction\n  }).catch(toastError => console.error(toastError));\n});\nconst showAcknowledgedToast = data => __awaiter(void 0, void 0, void 0, function* () {\n  openToast({\n    body: 'Awaiting confirmation in\\u00A0 {{wallet}}',\n    state: 'acknowledge',\n    walletInfo: data.walletInfo\n  }).catch(toastError => console.error(toastError));\n});\nconst showPrepare = data => __awaiter(void 0, void 0, void 0, function* () {\n  const text = data.walletInfo ? `Preparing Request for\\u00A0 {{wallet}}...` : 'Preparing Request...';\n  openToast({\n    body: text,\n    state: 'prepare',\n    walletInfo: data.walletInfo\n  }).catch(toastError => console.error(toastError));\n});\nconst hideUI = elements => __awaiter(void 0, void 0, void 0, function* () {\n  if (elements) {\n    if (elements.includes('alert')) {\n      closeAlerts();\n    }\n    if (elements.includes('toast')) {\n      closeToast();\n    }\n  } else {\n    closeToast();\n  }\n});\n/**\n * Show a \"No Permission\" alert\n */\nconst showNoPermissionAlert = () => __awaiter(void 0, void 0, void 0, function* () {\n  yield openAlert({\n    title: 'No Permission',\n    body: 'Please allow the wallet to handle this type of request.'\n  });\n});\n/**\n * Show an error toast\n *\n * @param beaconError The beacon error\n */\nconst showErrorToast = (response, buttons) => __awaiter(void 0, void 0, void 0, function* () {\n  const error = response.errorResponse.errorType ? BeaconError.getError(response.errorResponse.errorType, response.errorResponse.errorData) : new UnknownBeaconError();\n  const actions = [{\n    text: error.title,\n    isBold: true\n  }, {\n    text: error.description\n  }];\n  if (response.errorResponse.errorType === BeaconErrorType.TRANSACTION_INVALID_ERROR && response.errorResponse.errorData) {\n    actions.push({\n      text: '',\n      actionText: 'Show Details',\n      actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\n        yield closeToast();\n        yield openAlert({\n          title: error.title,\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          body: error.fullDescription.description,\n          data: error.fullDescription.data,\n          buttons\n        });\n      })\n    });\n  }\n  yield openToast({\n    body: `{{wallet}}\\u00A0 has returned an error`,\n    timer: response.errorResponse.errorType === BeaconErrorType.ABORTED_ERROR ? SUCCESS_TIMER : undefined,\n    state: 'finished',\n    walletInfo: response.walletInfo,\n    actions\n  });\n});\n/**\n * Show a rate limit reached toast\n */\nconst showRateLimitReached = () => __awaiter(void 0, void 0, void 0, function* () {\n  openAlert({\n    title: 'Error',\n    body: 'Rate limit reached. Please slow down',\n    buttons: [{\n      text: 'Done',\n      style: 'outline'\n    }],\n    timer: 3000\n  }).catch(toastError => console.error(toastError));\n});\n/**\n * Show a \"connection successful\" alert for 1.5 seconds\n */\nconst showExtensionConnectedAlert = () => __awaiter(void 0, void 0, void 0, function* () {\n  yield closeAlerts();\n});\n/**\n * Show a \"channel closed\" alert for 1.5 seconds\n */\nconst showChannelClosedAlert = () => __awaiter(void 0, void 0, void 0, function* () {\n  yield openAlert({\n    title: 'Channel closed',\n    body: `Your peer has closed the connection.`,\n    buttons: [{\n      text: 'Done',\n      style: 'outline'\n    }],\n    timer: 1500\n  });\n});\nconst showInternalErrorAlert = data => __awaiter(void 0, void 0, void 0, function* () {\n  var _a;\n  const buttons = [...((_a = data.buttons) !== null && _a !== void 0 ? _a : [])];\n  buttons.push({\n    text: 'Done',\n    style: 'outline'\n  });\n  const alertConfig = {\n    title: 'Internal Error',\n    body: data.text,\n    buttons\n  };\n  yield openAlert(alertConfig);\n});\n/**\n * Show a connect alert with QR code\n *\n * @param data The data that is emitted by the PAIR_INIT event\n */\nconst showPairAlert = data => __awaiter(void 0, void 0, void 0, function* () {\n  const alertConfig = {\n    title: 'Choose your preferred wallet',\n    body: `<p></p>`,\n    pairingPayload: {\n      p2pSyncCode: data.p2pPeerInfo,\n      postmessageSyncCode: data.postmessagePeerInfo,\n      preferredNetwork: data.preferredNetwork\n    },\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    closeButtonCallback: data.abortedHandler,\n    disclaimerText: data.disclaimerText\n  };\n  yield openAlert(alertConfig);\n});\n/**\n * Show a \"Permission Granted\" alert\n *\n * @param data The data that is emitted by the PERMISSION_REQUEST_SUCCESS event\n */\nconst showPermissionSuccessAlert = data => __awaiter(void 0, void 0, void 0, function* () {\n  const {\n    output\n  } = data;\n  yield openToast({\n    body: `{{wallet}}\\u00A0 has granted permission`,\n    timer: SUCCESS_TIMER,\n    walletInfo: data.walletInfo,\n    state: 'finished',\n    actions: [{\n      text: 'Address',\n      actionText: shortenString(output.address),\n      isBold: true\n    }, {\n      text: 'Network',\n      actionText: `${output.network.type}`\n    }, {\n      text: 'Permissions',\n      actionText: output.scopes.join(', ')\n    }]\n  });\n});\n/**\n * Show an \"Operation Broadcasted\" alert\n *\n * @param data The data that is emitted by the OPERATION_REQUEST_SUCCESS event\n */\nconst showOperationSuccessAlert = data => __awaiter(void 0, void 0, void 0, function* () {\n  const {\n    account,\n    output,\n    blockExplorer\n  } = data;\n  yield openToast({\n    body: `{{wallet}}\\u00A0 successfully submitted operation`,\n    timer: SUCCESS_TIMER,\n    state: 'finished',\n    walletInfo: data.walletInfo,\n    actions: [{\n      text: shortenString(output.transactionHash),\n      isBold: true,\n      actionText: `Open Blockexplorer`,\n      actionLogo: 'external',\n      actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\n        const link = yield blockExplorer.getTransactionLink(output.transactionHash, account.network);\n        window.open(link, '_blank');\n        yield closeToast();\n      })\n    }]\n  });\n});\n/**\n * Show a \"Transaction Signed\" alert\n *\n * @param data The data that is emitted by the SIGN_REQUEST_SUCCESS event\n */\nconst showSignSuccessAlert = data => __awaiter(void 0, void 0, void 0, function* () {\n  const output = data.output;\n  yield openToast({\n    body: `{{wallet}}\\u00A0 successfully signed payload`,\n    timer: SUCCESS_TIMER,\n    state: 'finished',\n    walletInfo: data.walletInfo,\n    actions: [{\n      text: `Signature: ${shortenString(output.signature)}`,\n      actionText: 'Copy to clipboard',\n      actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\n        navigator.clipboard.writeText(output.signature).then(() => {\n          logger.log('showSignSuccessAlert', 'Copying to clipboard was successful!');\n        }, err => {\n          logger.error('showSignSuccessAlert', 'Could not copy text to clipboard: ', err);\n        });\n        yield closeToast();\n      })\n    }]\n  });\n});\n/**\n * Show a \"Transaction Signed\" alert\n *\n * @param data The data that is emitted by the ENCRYPT_REQUEST_SUCCESS event\n */\n// TODO: ENCRYPTION\n// const showEncryptSuccessAlert = async (\n//   data: BeaconEventType[BeaconEvent.ENCRYPT_REQUEST_SUCCESS]\n// ): Promise<void> => {\n//   const output = data.output\n//   await openToast({\n//     body: `{{wallet}}\\u00A0 successfully ${\n//       data.output.cryptoOperation === EncryptionOperation.ENCRYPT ? 'encrypted' : 'decrypted'\n//     } payload`,\n//     timer: SUCCESS_TIMER,\n//     state: 'finished',\n//     walletInfo: data.walletInfo,\n//     actions: [\n//       {\n//         text: `Payload: <strong>${shortenString(output.payload)}</strong>`,\n//         actionText: 'Copy to clipboard',\n//         actionCallback: async (): Promise<void> => {\n//           navigator.clipboard.writeText(output.payload).then(\n//             () => {\n//               logger.log('showSignSuccessAlert', 'Copying to clipboard was successful!')\n//             },\n//             (err) => {\n//               logger.error('showSignSuccessAlert', 'Could not copy text to clipboard: ', err)\n//             }\n//           )\n//           await closeToast()\n//         }\n//       }\n//     ]\n//   })\n// }\n/**\n * Show a \"Broadcasted\" alert\n *\n * @param data The data that is emitted by the BROADCAST_REQUEST_SUCCESS event\n */\nconst showBroadcastSuccessAlert = data => __awaiter(void 0, void 0, void 0, function* () {\n  const {\n    network,\n    output,\n    blockExplorer\n  } = data;\n  yield openToast({\n    body: `{{wallet}}\\u00A0 successfully injected operation`,\n    timer: SUCCESS_TIMER,\n    state: 'finished',\n    walletInfo: data.walletInfo,\n    actions: [{\n      text: shortenString(output.transactionHash),\n      isBold: true,\n      actionText: `Open Blockexplorer`,\n      actionLogo: 'external',\n      actionCallback: () => __awaiter(void 0, void 0, void 0, function* () {\n        const link = yield blockExplorer.getTransactionLink(output.transactionHash, network);\n        window.open(link, '_blank');\n        yield closeToast();\n      })\n    }]\n  });\n});\nconst emptyHandler = () => () => __awaiter(void 0, void 0, void 0, function* () {\n  //\n});\n/**\n * The default event handlers\n */\nexport const defaultEventCallbacks = {\n  [BeaconEvent.PERMISSION_REQUEST_SENT]: showSentToast,\n  [BeaconEvent.PERMISSION_REQUEST_SUCCESS]: showPermissionSuccessAlert,\n  [BeaconEvent.PERMISSION_REQUEST_ERROR]: showErrorToast,\n  [BeaconEvent.OPERATION_REQUEST_SENT]: showSentToast,\n  [BeaconEvent.OPERATION_REQUEST_SUCCESS]: showOperationSuccessAlert,\n  [BeaconEvent.OPERATION_REQUEST_ERROR]: showErrorToast,\n  [BeaconEvent.SIGN_REQUEST_SENT]: showSentToast,\n  [BeaconEvent.SIGN_REQUEST_SUCCESS]: showSignSuccessAlert,\n  [BeaconEvent.SIGN_REQUEST_ERROR]: showErrorToast,\n  // TODO: ENCRYPTION\n  // [BeaconEvent.ENCRYPT_REQUEST_SENT]: showSentToast,\n  // [BeaconEvent.ENCRYPT_REQUEST_SUCCESS]: showEncryptSuccessAlert,\n  // [BeaconEvent.ENCRYPT_REQUEST_ERROR]: showErrorToast,\n  [BeaconEvent.BROADCAST_REQUEST_SENT]: showSentToast,\n  [BeaconEvent.BROADCAST_REQUEST_SUCCESS]: showBroadcastSuccessAlert,\n  [BeaconEvent.BROADCAST_REQUEST_ERROR]: showErrorToast,\n  [BeaconEvent.ACKNOWLEDGE_RECEIVED]: showAcknowledgedToast,\n  [BeaconEvent.LOCAL_RATE_LIMIT_REACHED]: showRateLimitReached,\n  [BeaconEvent.NO_PERMISSIONS]: showNoPermissionAlert,\n  [BeaconEvent.ACTIVE_ACCOUNT_SET]: emptyHandler(),\n  [BeaconEvent.ACTIVE_TRANSPORT_SET]: emptyHandler(),\n  [BeaconEvent.SHOW_PREPARE]: showPrepare,\n  [BeaconEvent.HIDE_UI]: hideUI,\n  [BeaconEvent.PAIR_INIT]: showPairAlert,\n  [BeaconEvent.PAIR_SUCCESS]: showExtensionConnectedAlert,\n  [BeaconEvent.CHANNEL_CLOSED]: showChannelClosedAlert,\n  [BeaconEvent.INTERNAL_ERROR]: showInternalErrorAlert,\n  [BeaconEvent.UNKNOWN]: emptyHandler()\n};\n/**\n * @internalapi\n *\n * Handles beacon events\n */\nexport class BeaconEventHandler {\n  constructor() {\n    let eventsToOverride = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let overrideAll = arguments.length > 1 ? arguments[1] : undefined;\n    this.callbackMap = {\n      [BeaconEvent.PERMISSION_REQUEST_SENT]: [defaultEventCallbacks.PERMISSION_REQUEST_SENT],\n      [BeaconEvent.PERMISSION_REQUEST_SUCCESS]: [defaultEventCallbacks.PERMISSION_REQUEST_SUCCESS],\n      [BeaconEvent.PERMISSION_REQUEST_ERROR]: [defaultEventCallbacks.PERMISSION_REQUEST_ERROR],\n      [BeaconEvent.OPERATION_REQUEST_SENT]: [defaultEventCallbacks.OPERATION_REQUEST_SENT],\n      [BeaconEvent.OPERATION_REQUEST_SUCCESS]: [defaultEventCallbacks.OPERATION_REQUEST_SUCCESS],\n      [BeaconEvent.OPERATION_REQUEST_ERROR]: [defaultEventCallbacks.OPERATION_REQUEST_ERROR],\n      [BeaconEvent.SIGN_REQUEST_SENT]: [defaultEventCallbacks.SIGN_REQUEST_SENT],\n      [BeaconEvent.SIGN_REQUEST_SUCCESS]: [defaultEventCallbacks.SIGN_REQUEST_SUCCESS],\n      [BeaconEvent.SIGN_REQUEST_ERROR]: [defaultEventCallbacks.SIGN_REQUEST_ERROR],\n      // TODO: ENCRYPTION\n      // [BeaconEvent.ENCRYPT_REQUEST_SENT]: [defaultEventCallbacks.ENCRYPT_REQUEST_SENT],\n      // [BeaconEvent.ENCRYPT_REQUEST_SUCCESS]: [defaultEventCallbacks.ENCRYPT_REQUEST_SUCCESS],\n      // [BeaconEvent.ENCRYPT_REQUEST_ERROR]: [defaultEventCallbacks.ENCRYPT_REQUEST_ERROR],\n      [BeaconEvent.BROADCAST_REQUEST_SENT]: [defaultEventCallbacks.BROADCAST_REQUEST_SENT],\n      [BeaconEvent.BROADCAST_REQUEST_SUCCESS]: [defaultEventCallbacks.BROADCAST_REQUEST_SUCCESS],\n      [BeaconEvent.BROADCAST_REQUEST_ERROR]: [defaultEventCallbacks.BROADCAST_REQUEST_ERROR],\n      [BeaconEvent.ACKNOWLEDGE_RECEIVED]: [defaultEventCallbacks.ACKNOWLEDGE_RECEIVED],\n      [BeaconEvent.LOCAL_RATE_LIMIT_REACHED]: [defaultEventCallbacks.LOCAL_RATE_LIMIT_REACHED],\n      [BeaconEvent.NO_PERMISSIONS]: [defaultEventCallbacks.NO_PERMISSIONS],\n      [BeaconEvent.ACTIVE_ACCOUNT_SET]: [defaultEventCallbacks.ACTIVE_ACCOUNT_SET],\n      [BeaconEvent.ACTIVE_TRANSPORT_SET]: [defaultEventCallbacks.ACTIVE_TRANSPORT_SET],\n      [BeaconEvent.SHOW_PREPARE]: [defaultEventCallbacks.SHOW_PREPARE],\n      [BeaconEvent.HIDE_UI]: [defaultEventCallbacks.HIDE_UI],\n      [BeaconEvent.PAIR_INIT]: [defaultEventCallbacks.PAIR_INIT],\n      [BeaconEvent.PAIR_SUCCESS]: [defaultEventCallbacks.PAIR_SUCCESS],\n      [BeaconEvent.CHANNEL_CLOSED]: [defaultEventCallbacks.CHANNEL_CLOSED],\n      [BeaconEvent.INTERNAL_ERROR]: [defaultEventCallbacks.INTERNAL_ERROR],\n      [BeaconEvent.UNKNOWN]: [defaultEventCallbacks.UNKNOWN]\n    };\n    if (overrideAll) {\n      this.setAllHandlers();\n    }\n    this.overrideDefaults(eventsToOverride);\n  }\n  /**\n   * A method to subscribe to a specific beacon event and register a callback\n   *\n   * @param event The event being emitted\n   * @param eventCallback The callback that will be invoked\n   */\n  on(event, eventCallback) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const listeners = this.callbackMap[event] || [];\n      listeners.push(eventCallback);\n      this.callbackMap[event] = listeners;\n    });\n  }\n  /**\n   * Emit a beacon event\n   *\n   * @param event The event being emitted\n   * @param data The data to be emit\n   */\n  emit(event, data, eventCallback) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const listeners = this.callbackMap[event];\n      if (listeners && listeners.length > 0) {\n        listeners.forEach(listener => __awaiter(this, void 0, void 0, function* () {\n          try {\n            yield listener(data, eventCallback);\n          } catch (listenerError) {\n            logger.error(`error handling event ${event}`, listenerError);\n          }\n        }));\n      }\n    });\n  }\n  /**\n   * Override beacon event default callbacks. This can be used to disable default alert/toast behaviour\n   *\n   * @param eventsToOverride An object with the events to override\n   */\n  overrideDefaults(eventsToOverride) {\n    Object.keys(eventsToOverride).forEach(untypedEvent => {\n      const eventType = untypedEvent;\n      const event = eventsToOverride[eventType];\n      if (event) {\n        this.callbackMap[eventType] = [event.handler];\n      }\n    });\n  }\n  /**\n   * Set all event callbacks to a specific handler.\n   */\n  setAllHandlers(handler) {\n    Object.keys(this.callbackMap).forEach(untypedEvent => {\n      const eventType = untypedEvent;\n      this.callbackMap[eventType] = [];\n      if (handler) {\n        this.callbackMap[eventType].push(handler);\n      } else {\n        this.callbackMap[eventType].push(function () {\n          for (var _len = arguments.length, data = new Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n          }\n          logger.log(untypedEvent, ...data);\n        });\n      }\n    });\n  }\n}","map":{"version":3,"names":["openAlert","closeAlerts","closeToast","openToast","BeaconErrorType","UnknownBeaconError","BeaconError","Logger","shortenString","isMobile","logger","SUCCESS_TIMER","BeaconEvent","showSentToast","data","__awaiter","openWalletAction","actions","walletInfo","deeplink","type","window","link","a","document","createElement","setAttribute","dispatchEvent","MouseEvent","view","bubbles","cancelable","push","text","isBold","actionText","actionCallback","resetCallback","extraInfo","log","body","state","catch","toastError","console","error","showAcknowledgedToast","showPrepare","hideUI","elements","includes","showNoPermissionAlert","title","showErrorToast","response","buttons","errorResponse","errorType","getError","errorData","description","TRANSACTION_INVALID_ERROR","fullDescription","timer","ABORTED_ERROR","undefined","showRateLimitReached","style","showExtensionConnectedAlert","showChannelClosedAlert","showInternalErrorAlert","_a","alertConfig","showPairAlert","pairingPayload","p2pSyncCode","p2pPeerInfo","postmessageSyncCode","postmessagePeerInfo","preferredNetwork","closeButtonCallback","abortedHandler","disclaimerText","showPermissionSuccessAlert","output","address","network","scopes","join","showOperationSuccessAlert","account","blockExplorer","transactionHash","actionLogo","getTransactionLink","open","showSignSuccessAlert","signature","navigator","clipboard","writeText","then","err","showBroadcastSuccessAlert","emptyHandler","defaultEventCallbacks","PERMISSION_REQUEST_SENT","PERMISSION_REQUEST_SUCCESS","PERMISSION_REQUEST_ERROR","OPERATION_REQUEST_SENT","OPERATION_REQUEST_SUCCESS","OPERATION_REQUEST_ERROR","SIGN_REQUEST_SENT","SIGN_REQUEST_SUCCESS","SIGN_REQUEST_ERROR","BROADCAST_REQUEST_SENT","BROADCAST_REQUEST_SUCCESS","BROADCAST_REQUEST_ERROR","ACKNOWLEDGE_RECEIVED","LOCAL_RATE_LIMIT_REACHED","NO_PERMISSIONS","ACTIVE_ACCOUNT_SET","ACTIVE_TRANSPORT_SET","SHOW_PREPARE","HIDE_UI","PAIR_INIT","PAIR_SUCCESS","CHANNEL_CLOSED","INTERNAL_ERROR","UNKNOWN","BeaconEventHandler","constructor","eventsToOverride","arguments","length","overrideAll","callbackMap","setAllHandlers","overrideDefaults","on","event","eventCallback","listeners","emit","forEach","listener","listenerError","Object","keys","untypedEvent","eventType","handler","_len","Array","_key"],"sources":["../../src/events.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}