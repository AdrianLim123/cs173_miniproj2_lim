{"ast":null,"code":"import { MichelCodecPacker } from \"@taquito/taquito\";\nimport { tezos } from \"./tezos\";\nexport const claimOwner = async () => {\n  try {\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\n    const op = await contractInstance.methods.claimOwner().send();\n    await op.confirmation(1);\n  } catch (err) {\n    throw err;\n  }\n};\nexport const claimCP = async () => {\n  try {\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\n    const packer = new MichelCodecPacker();\n    const packString = async stringData => {\n      const packedString = await packer.packData({\n        data: {\n          secret: stringData\n        },\n        type: {\n          prim: 'string'\n        }\n      });\n      return packedString;\n    };\n    const params = await packString(\"0xc2e588e23a6c8b8192da64af45b7b603ac420aefd57cc1570682350154e9c04e\");\n    const op = await contractInstance.methods.claimCounterparty(params).send();\n    await op.confirmation(1);\n  } catch (err) {\n    throw err;\n  }\n};\nexport const setBalanceOwnerEscrow = async fromOwner => {\n  try {\n    // Create Escrow instance\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\n    // Add balance of cp and owner\n    const op = await contractInstance.methods.addBalanceOwner().send({\n      amount: fromOwner,\n      mutez: true\n    });\n    await op.confirmation(1);\n    alert(\"Transaction successful.\");\n  } catch (err) {\n    throw err;\n  }\n};\nexport const setBalanceCPEscrow = async fromCP => {\n  try {\n    // Create Escrow instance\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\n    // Add balance of cp and owner\n    const op = await contractInstance.methods.addBalanceCounterparty().send({\n      amount: fromCP,\n      mutez: true\n    });\n    await op.confirmation(1);\n  } catch (err) {\n    throw err;\n  }\n};","map":{"version":3,"names":["MichelCodecPacker","tezos","claimOwner","contractInstance","wallet","at","op","methods","send","confirmation","err","claimCP","packer","packString","stringData","packedString","packData","data","secret","type","prim","params","claimCounterparty","setBalanceOwnerEscrow","fromOwner","addBalanceOwner","amount","mutez","alert","setBalanceCPEscrow","fromCP","addBalanceCounterparty"],"sources":["C:/Users/akira/Desktop/miniproj2/src/utils/operation.js"],"sourcesContent":["import { MichelCodecPacker } from \"@taquito/taquito\";\r\nimport { tezos } from \"./tezos\";\r\n\r\nexport const claimOwner = async() => {\r\n  try{\r\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\r\n    const op = await contractInstance.methods.claimOwner().send();\r\n    await op.confirmation(1);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport const claimCP = async() => {\r\n  try{\r\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\r\n    const packer = new MichelCodecPacker();\r\n    const packString = async stringData => {\r\n      const packedString = await packer.packData({\r\n        data: {\r\n          secret: stringData,\r\n        },\r\n        type: {\r\n          prim: 'string',\r\n        }\r\n      })\r\n    \r\n      return packedString\r\n    }\r\n    const params = await packString(\"0xc2e588e23a6c8b8192da64af45b7b603ac420aefd57cc1570682350154e9c04e\");\r\n    const op = await contractInstance.methods.claimCounterparty(params).send();\r\n    await op.confirmation(1);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport const setBalanceOwnerEscrow = async (fromOwner) => {\r\n  try{\r\n    // Create Escrow instance\r\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\r\n    // Add balance of cp and owner\r\n    const op = await contractInstance.methods.addBalanceOwner().send({\r\n      amount: fromOwner,\r\n      mutez: true\r\n    });\r\n    await op.confirmation(1);\r\n    alert(\"Transaction successful.\");\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const setBalanceCPEscrow = async (fromCP) => {\r\n  try{\r\n    // Create Escrow instance\r\n    const contractInstance = await tezos.wallet.at(\"KT1HeQbzgEqKgrdbU7tBPfQoAJffaF9ZCyKX\");\r\n    // Add balance of cp and owner\r\n    const op = await contractInstance.methods.addBalanceCounterparty().send({\r\n      amount: fromCP,\r\n      mutez: true,\r\n    });\r\n    await op.confirmation(1);\r\n\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,kBAAkB;AACpD,SAASC,KAAK,QAAQ,SAAS;AAE/B,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAW;EACnC,IAAG;IACD,MAAMC,gBAAgB,GAAG,MAAMF,KAAK,CAACG,MAAM,CAACC,EAAE,CAAC,sCAAsC,CAAC;IACtF,MAAMC,EAAE,GAAG,MAAMH,gBAAgB,CAACI,OAAO,CAACL,UAAU,EAAE,CAACM,IAAI,EAAE;IAC7D,MAAMF,EAAE,CAACG,YAAY,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ,MAAMA,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAW;EAChC,IAAG;IACD,MAAMR,gBAAgB,GAAG,MAAMF,KAAK,CAACG,MAAM,CAACC,EAAE,CAAC,sCAAsC,CAAC;IACtF,MAAMO,MAAM,GAAG,IAAIZ,iBAAiB,EAAE;IACtC,MAAMa,UAAU,GAAG,MAAMC,UAAU,IAAI;MACrC,MAAMC,YAAY,GAAG,MAAMH,MAAM,CAACI,QAAQ,CAAC;QACzCC,IAAI,EAAE;UACJC,MAAM,EAAEJ;QACV,CAAC;QACDK,IAAI,EAAE;UACJC,IAAI,EAAE;QACR;MACF,CAAC,CAAC;MAEF,OAAOL,YAAY;IACrB,CAAC;IACD,MAAMM,MAAM,GAAG,MAAMR,UAAU,CAAC,oEAAoE,CAAC;IACrG,MAAMP,EAAE,GAAG,MAAMH,gBAAgB,CAACI,OAAO,CAACe,iBAAiB,CAACD,MAAM,CAAC,CAACb,IAAI,EAAE;IAC1E,MAAMF,EAAE,CAACG,YAAY,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ,MAAMA,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMa,qBAAqB,GAAG,MAAOC,SAAS,IAAK;EACxD,IAAG;IACD;IACA,MAAMrB,gBAAgB,GAAG,MAAMF,KAAK,CAACG,MAAM,CAACC,EAAE,CAAC,sCAAsC,CAAC;IACtF;IACA,MAAMC,EAAE,GAAG,MAAMH,gBAAgB,CAACI,OAAO,CAACkB,eAAe,EAAE,CAACjB,IAAI,CAAC;MAC/DkB,MAAM,EAAEF,SAAS;MACjBG,KAAK,EAAE;IACT,CAAC,CAAC;IACF,MAAMrB,EAAE,CAACG,YAAY,CAAC,CAAC,CAAC;IACxBmB,KAAK,CAAC,yBAAyB,CAAC;EAClC,CAAC,CAAC,OAAOlB,GAAG,EAAE;IACZ,MAAMA,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMmB,kBAAkB,GAAG,MAAOC,MAAM,IAAK;EAClD,IAAG;IACD;IACA,MAAM3B,gBAAgB,GAAG,MAAMF,KAAK,CAACG,MAAM,CAACC,EAAE,CAAC,sCAAsC,CAAC;IACtF;IACA,MAAMC,EAAE,GAAG,MAAMH,gBAAgB,CAACI,OAAO,CAACwB,sBAAsB,EAAE,CAACvB,IAAI,CAAC;MACtEkB,MAAM,EAAEI,MAAM;MACdH,KAAK,EAAE;IACT,CAAC,CAAC;IACF,MAAMrB,EAAE,CAACG,YAAY,CAAC,CAAC,CAAC;EAE1B,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ,MAAMA,GAAG;EACX;AACF,CAAC"},"metadata":{},"sourceType":"module"}